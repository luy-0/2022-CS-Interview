# Git概念
## 是什么
- 分布式版本管理工具，用来管理软件代码版本
- 在每个电脑上都保存一个副本，然后和远程仓库进行比较
- 具体的操作，每一次commit还有checkout实际上都是在链上进行节点的添加/删除/跳转等操作
## 文件状态
### 未加入（本地）
- 状态：**未跟踪**
- 未跟踪
- 忽略
- 未管理
- 红色

### 工作区
- 状态：**已修改**
- 修改过的文件
- 红色

### 暂存区 
- 状态：**已暂存**
- .git/index
- git add
- 暂存但未提交至本地仓库
- git reset HEAD
- 形成快照
- 绿色

### 本地仓库
- 状态：**已提交**
- .git/文件目录
- git commit
- git reset 将本地仓库的内容转回至暂存区
- 包含了完整的hash值

### 远程仓库
- 远程保存内容的服务器，常见的比如Github，还有国内的gitee
- git remote 
- -v 查看当前所有的远程仓库

> [分支名称] 并不包括中括号
## 分支 Branch
- 使工作能够并行
- 之后进行整合
- git branch ：查看当前分支
- git branch [分支名称] ： 创建一个名称指定的分支
### 合并
#### merge
- 首先切换到想保留的分支 [分支名称1]
- git merge [分支名称2] ： 合并一个指定名称的分支
- [分支名称1]新增一个commit节点，指向了[分支名称2]的末尾，从而可以进行再次比较
- 形成一条岔路

#### rebase
- 将指定分支的不同commit直接放置在后面
- 形成一条链

#### 冲突
- 当两个改动存在冲突/不同


### master
- 主分支

### checkout 
- -b develop：创建了一个名字为develop的分支，并切换到这个分支
- [分支名称]： 将当前分支切换为指定名称的分支

# Git Workflow （工作流）
- 大型项目导致各个分支内容不同
- 典型的Git文件模型
## develop
- 稳定的开发版本，从develop
- 保持最新，研发主干
## release
- 发布的版本
 
## 多人协作产生的冲突
- 远端：c1
- 员工1:拉下c1，自己写了c2，c3，提交在本地
- 员工2:拉下c1，自己写了c4，c5，提交在本地，同时push到远端
- 员工1在员工2push之后，提交到远端，报错 （远程仓库和本地仓库产生分歧，上传操作无法fast-forward实现）
- 解决方法：
- 方法1：员工1将当前远端最新版本的代码pull到本地，解决冲突之后上传
- 方法2: 
    - git fetch：可以将之前员工2提交的分支拉取到本地（**注意，是拉取分支**，包括之前员工2在c1之后的所有提交，并不只是当前的代码）
    - git merge [员工2的分支名称]： 然后就在本地将两个不同的分支合并在一起
    - 这时就可以向远程仓库提交代码了

## 回滚
》 下面几个指令后面都是跟commit的Hash值

- git reset： 将该次提交之后的所有提交都丢弃掉
- git revert： 将当前代码恢复到某一次提交，在HEAD的头节点新复制一个对应hash值的节点链接上去
- git reflot：查看所有git相关操作的记录，并且，只要有对应的Hash，可以进行高优先级的恢复
# 其他命令
git commit --amend：修改最后一次的提交

**git rebase -i** ： 十分强大的命令
git log: 查看 git  日志

git  show:查看上一次提交的具体内容（文件的不同等）

git status:  查看当前文件的状态，一个文件可能存在多种状态

git diff:
-  查看提交的不一样
- --cached 查看暂存区和本地的不同

