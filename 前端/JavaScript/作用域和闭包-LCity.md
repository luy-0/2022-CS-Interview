# 闭包

## 作用域

作用域并不能作为对象通过JS代码访问，它只存在在JS引擎内部

### 词法作用域

定义在词法阶段的作用域，由变量和块作用域写在哪里来决定的

#### 个人理解

*通过定义的变量/函数来确定的作用域*

### 函数作用域

函数作用域可以将内部的变量和函数定义隐藏起来，外部作用域无法访问包装函数内部的任何内容

### 块作用域

由各种语句（if，for）创建出的作用域
对函数作用域中的隐藏信息进行进一步扩展（隐藏）

## 模块模式

### 定义 

- 必须有外部的封闭函数，并且至少被调用一次。 包含函数定义的包装函数
- 封闭函数必须返回至少一个内部函数，这样封闭函数菜呢个在私有作用于中形成闭包，并且可以访问或者修改私有的状态 
- **将返回值作为该模块的API**


**一个具有函数属性的对象并不是真正的模块**
**只有数据类型而没有闭包函数的对象并不是真正的模块**
模块也可以直接引用接受参数的函数作为赋值

#### 重要功能：命名将要作为公共API返回的对象

#### 个人理解：

*模块机制的作用是对函数中的内容和函数进行调用*
*将所需要使用的函数进行封装*
*返回的值为包含命名的对象，而接受这个返回值的变量，则只能调用返回的对应的几个封装函数，所以达到了封装的目的*

#### ES6特性：

##### 模块的书写

模块API是静态的，必须定义在独立文件当中，在编译期就会对API调用进行检查，如果API引用并不存在，编译器就会在编译时抛出错误

需要在其他文件进行定义，在句末加上 
`` export function_name ``
为其他使用此模块的程序提供调用接口
同时，在使用时，需要声明
`` module name from “file_name” ``

当函数可以记住并访问所在的词法作用作用域，即使函数是当前词法作用域与之外执行，这是就产生出了闭包

##### 动态作用域

##### 块作用域的替代方案

##### 箭头函数

用当前的词法作用域覆盖this本来的值
